{% comment %}
=========================================================
SECTION: Gift Banner
AUTHOR: Custom Implementation
PURPOSE:
- Custom top bar with logo + heading + animated CTA
- Responsive banner with image + text grid
- Mobile hamburger panel includes Choose Gift button
- Fully editable via schema
- Vanilla JS only (no jQuery)
=========================================================
{% endcomment %}

<section id="gift-banner-{{ section.id }}" class="gift-banner">

  <!-- ================= TOP BAR ================= -->
  <header class="gift-topbar">
    <div class="topbar-inner">

      <!-- Mobile Hamburger -->
      <button class="hamburger" aria-label="Open Menu">
        ☰
      </button>

      <!-- Logo Text -->
      <div class="topbar-logo">
        {{ section.settings.logo_text }}
      </div>

      <!-- Center Heading (Desktop Only) -->
      <div class="topbar-heading">
        {{ section.settings.topbar_heading }}
      </div>

      <!-- Desktop Choose Gift Button -->
      <a href="{{ section.settings.choose_gift_link }}"
         class="btn-slide btn-yellow btn-slide-right desktop-only">
        <span>{{ section.settings.choose_gift_text }}</span>
        <span class="arrow">→</span>
      </a>
    </div>
  </header>

  <!-- ================= MOBILE DRAWER ================= -->
  <div class="mobile-drawer">
    <p>{{ section.settings.topbar_heading }}</p>

    <a href="{{ section.settings.choose_gift_link }}"
       class="btn-slide btn-yellow btn-slide-right">
      <span>{{ section.settings.choose_gift_text }}</span>
      <span class="arrow">→</span>
    </a>
  </div>

  <!-- ================= BANNER IMAGE (FULL WIDTH) ================= -->
  {% if section.settings.banner_image_top %}
    <div class="banner-image-full">
      <img
        src="{{ section.settings.banner_image_top | image_url: width: 1600 }}"
        alt="Gift Banner"
        width="1600"
        height="600"
        loading="lazy">
    </div>
  {% endif %}

  <!-- ================= BANNER GRID ================= -->
  <div class="banner-grid">

    <!-- LEFT: TEXT CONTENT -->
    <div class="banner-text">
      <h1>{{ section.settings.hero_heading }}</h1>
      <p>{{ section.settings.hero_description }}</p>

      <a href="{{ section.settings.shop_now_link }}"
         class="btn-slide btn-black btn-slide-left">
        <span>{{ section.settings.shop_now_text }}</span>
        <span class="arrow">→</span>
      </a>
    </div>

    <!-- RIGHT: IMAGE (DESKTOP ONLY) -->
    {% if section.settings.banner_image_side %}
      <div class="banner-image-side desktop-only">
        <img
          src="{{ section.settings.banner_image_side | image_url: width: 800 }}"
          alt="Gift Visual"
          width="800"
          height="600"
          loading="lazy">
      </div>
    {% endif %}

  </div>

  <!-- ================= INFO BAR ================= -->
  <footer class="gift-infobar">
    {{ section.settings.info_text }}
  </footer>

</section>

<!-- ================= STYLES ================= -->
<style>
/* ---------- BASE ---------- */
#gift-banner-{{ section.id }} {
  font-family: 'Jost', sans-serif;
}

/* ---------- TOP BAR ---------- */
.gift-topbar {
  background: #f7f7f7;
  padding: 20px;
  box-shadow: 0 2px 4px rgba(0,0,0,.15);
}

.topbar-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.hamburger {
  display: none;
  font-size: 22px;
  background: none;
  border: none;
}

.topbar-logo {
  font-weight: 500;
  font-size: 20px;
}

.topbar-heading {
  font-size: 16px;
}

/* ---------- MOBILE DRAWER ---------- */
.mobile-drawer {
  display: none;
  background: #f2f2f2;
  text-align: center;
  padding: 25px;
  gap: 16px;
}

/* ---------- IMAGES ---------- */
.banner-image-full img,
.banner-image-side img {
  width: 100%;
  height: auto;
  display: block;
}

/* ---------- GRID ---------- */
.banner-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: center;
  padding: 60px;
  gap: 40px;
}

.banner-text h1 {
  font-size: 48px;
  margin-bottom: 16px;
}

.banner-text p {
  font-size: 18px;
  margin-bottom: 24px;
}

/* ---------- INFO BAR ---------- */
.gift-infobar {
  background: #f5f5f5;
  text-align: center;
  padding: 12px;
  font-size: 14px;
}

/* ---------- BUTTONS ---------- */
.btn-slide {
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 14px 26px;
  text-transform: uppercase;
  border: 2px solid #000;
  overflow: hidden;
}

.btn-yellow {
  background: #fff544;
  color: #000;
}

.btn-black {
  background: #000;
  color: #fff;
}

.btn-slide::before {
  content: '';
  position: absolute;
  inset: 0;
  background: currentColor;
  transform: translateX(-100%);
  transition: transform .3s ease;
  z-index: 0;
}

.btn-slide-left::before { transform: translateX(100%); }

.btn-slide:hover::before { transform: translateX(0); }

.btn-slide span {
  position: relative;
  z-index: 1;
}

/* ---------- RESPONSIVE ---------- */
@media (max-width: 768px) {
  .desktop-only { display: none; }
  .hamburger { display: block; }
  .topbar-heading { display: none; }
  .banner-grid { grid-template-columns: 1fr; padding: 30px; }
}
</style>

<!-- ================= JS ================= -->
<script>
document.querySelector('#gift-banner-{{ section.id }} .hamburger')
  ?.addEventListener('click', function () {
    document
      .querySelector('#gift-banner-{{ section.id }} .mobile-drawer')
      .classList.toggle('open');
});
</script>

{% schema %}
{
  "name": "Gift Banner",
  "settings": [
    { "type": "text", "id": "logo_text", "label": "Logo Text", "default": "TISSO VISON" },
    { "type": "text", "id": "topbar_heading", "label": "Top Bar Heading" },
    { "type": "text", "id": "choose_gift_text", "label": "Choose Gift Button Text", "default": "Choose Gift" },
    { "type": "url", "id": "choose_gift_link", "label": "Choose Gift Link" },
    { "type": "image_picker", "id": "banner_image_top", "label": "Top Banner Image" },
    { "type": "image_picker", "id": "banner_image_side", "label": "Side Banner Image (Desktop)" },
    { "type": "text", "id": "hero_heading", "label": "Banner Heading", "default": "The Gift Guide" },
    { "type": "textarea", "id": "hero_description", "label": "Banner Description" },
    { "type": "text", "id": "shop_now_text", "label": "Shop Now Button Text", "default": "Shop Now" },
    { "type": "url", "id": "shop_now_link", "label": "Shop Now Link" },
    { "type": "text", "id": "info_text", "label": "Info Bar Text" }
  ],
  "presets": [{ "name": "Gift Banner" }]
}
{% endschema %}
